<?php\n\nnamespace App\\Http\\Controllers\\Admin;\n\nuse App\\Http\\Controllers\\Controller;\nuse App\\Models\\Setting;\nuse Illuminate\\Http\\Request;\nuse Illuminate\Support\\Facades\\Storage;\n\nclass SettingsController extends Controller\n{\n    public function index()\n    {\n        $settings = Setting::all()->keyBy('key');\n        return view('admin.settings.index', compact('settings'));\n    }\n\n    public function update(Request $request)\n    {\n        foreach ($request->except('_token') as $key => $value) {\n            Setting::updateOrCreate(['key' => $key], ['value' => $value]);\n        }\n\n        if ($request->has('robots')) {\n            Storage::disk('public')->put('robots.txt', $request->robots);\n        }\n\n        return redirect()->route('admin.settings.index')\n            ->with('success', 'Settings updated successfully.');\n    }\n}\n